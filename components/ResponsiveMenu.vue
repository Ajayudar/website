<template>
  <div>
    <div
      class="menu-container text-gray-200 shadow-lg cursor-pointer p-3 rounded-full"
      :class="{'full-menu' : open}"
      @click="open = !open">
      <svg
        v-if="!open"
        width="16"
        height="12"
        viewBox="0 0 16 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path d="M15 12H8C7.448 12 7 11.552 7 11C7 10.448 7.448 10 8 10H15C15.552 10 16 10.448 16 11C16 11.552 15.552 12 15 12Z" fill="#C5CFD6" />
        <path d="M15 7H1C0.448 7 0 6.552 0 6C0 5.448 0.448 5 1 5H15C15.552 5 16 5.448 16 6C16 6.552 15.552 7 15 7Z" fill="#AFB9C5" />
        <path d="M15 2H1C0.448 2 0 1.552 0 1C0 0.448 0.448 0 1 0H15C15.552 0 16 0.448 16 1C16 1.552 15.552 2 15 2Z" fill="#AFB9C5" />
      </svg>

      <svg
        v-else
        width="13"
        height="14"
        viewBox="0 0 13 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path d="M0.707089 10.6064L10.6066 0.706956C10.9969 0.316633 11.6305 0.316633 12.0208 0.706956C12.4111 1.09728 12.4111 1.73085 12.0208 2.12117L2.1213 12.0207C1.73098 12.411 1.09741 12.411 0.707089 12.0207C0.316766 11.6303 0.316766 10.9968 0.707089 10.6064Z" fill="#C5CFD6" />
        <path d="M10.6068 12.4349L0.707322 2.53538C0.316999 2.14506 0.316999 1.51149 0.707322 1.12117C1.09764 0.730846 1.73121 0.730846 2.12154 1.12117L12.021 11.0207C12.4114 11.411 12.4114 12.0446 12.021 12.4349C11.6307 12.8252 10.9971 12.8252 10.6068 12.4349Z" fill="#C5CFD6" />
      </svg>
    </div>
    <div
      class="overlay bg-white mt-32"
      :class="{'open': open}">
      <nav class="text-3xl">
        <ul class="flex flex-col items-center mt-64">
          <li
            v-for="(r, index) in routes"
            :key="index"
            class="mt-8 font-bold cursor-pointer w-auto"
            @click="navigate(r.path)">
            {{ r.title }}
          </li>
          <div class="flex flex-col items-end w-full -mt-20 pr-8">
            <!-- Github -->
            <a href="https://github.com/horchatajs" target="_blank">
              <svg
                class="fill-current text-gray-400 hover:text-black"
                width="36"
                height="36"
                viewBox="0 0 36 36"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M26.1264 13.1053C25.2098 11.5348 23.9664 10.2913 22.396 9.37479C20.8253 8.45818 19.1106 8 17.2507 8C15.3909 8 13.6757 8.45833 12.1053 9.37479C10.5348 10.2913 9.29144 11.5348 8.37479 13.1053C7.45828 14.6759 7 16.3909 7 18.2504C7 20.484 7.65168 22.4926 8.95536 24.2766C10.2589 26.0607 11.9429 27.2952 14.0072 27.9803C14.2475 28.0249 14.4253 27.9936 14.541 27.887C14.6567 27.7804 14.7145 27.6467 14.7145 27.4868C14.7145 27.4601 14.7122 27.2199 14.7078 26.766C14.7032 26.3122 14.701 25.9162 14.701 25.5783L14.394 25.6315C14.1983 25.6673 13.9514 25.6825 13.6532 25.6782C13.3553 25.674 13.0459 25.6428 12.7257 25.5847C12.4052 25.5272 12.1072 25.3937 11.8313 25.1846C11.5556 24.9755 11.3599 24.7018 11.2442 24.3639L11.1107 24.0568C11.0218 23.8523 10.8817 23.6251 10.6903 23.3761C10.499 23.1269 10.3055 22.958 10.1098 22.869L10.0163 22.8021C9.95406 22.7577 9.89627 22.704 9.84284 22.6418C9.78945 22.5796 9.74948 22.5173 9.72279 22.455C9.69605 22.3926 9.71821 22.3414 9.7895 22.3012C9.86079 22.261 9.98963 22.2416 10.1766 22.2416L10.4434 22.2814C10.6214 22.3171 10.8415 22.4236 11.1041 22.6017C11.3666 22.7796 11.5823 23.0109 11.7514 23.2956C11.9562 23.6605 12.2029 23.9385 12.4922 24.1299C12.7813 24.3212 13.0728 24.4167 13.3663 24.4167C13.6599 24.4167 13.9135 24.3945 14.1271 24.3502C14.3405 24.3057 14.5408 24.2388 14.7277 24.1499C14.8078 23.5535 15.0258 23.0953 15.3816 22.775C14.8745 22.7217 14.4186 22.6414 14.0136 22.5347C13.6088 22.4278 13.1906 22.2544 12.7591 22.0139C12.3274 21.7738 11.9692 21.4756 11.6846 21.1198C11.3999 20.7639 11.1662 20.2966 10.9839 19.7183C10.8016 19.1399 10.7104 18.4726 10.7104 17.7163C10.7104 16.6394 11.0619 15.723 11.7649 14.9666C11.4356 14.1571 11.4667 13.2495 11.8582 12.244C12.1163 12.1638 12.499 12.224 13.0061 12.4241C13.5133 12.6243 13.8847 12.7959 14.1206 12.9381C14.3565 13.0802 14.5455 13.2007 14.6879 13.2984C15.5156 13.0671 16.3697 12.9515 17.2506 12.9515C18.1314 12.9515 18.9857 13.0671 19.8135 13.2984L20.3206 12.9782C20.6675 12.7646 21.077 12.5688 21.5484 12.3908C22.02 12.213 22.3806 12.164 22.6299 12.2441C23.0301 13.2497 23.0658 14.1572 22.7364 14.9668C23.4393 15.7232 23.791 16.6398 23.791 17.7164C23.791 18.4727 23.6995 19.1421 23.5174 19.725C23.3351 20.308 23.0994 20.7749 22.8103 21.1265C22.5209 21.4781 22.1604 21.774 21.729 22.0141C21.2974 22.2544 20.879 22.4278 20.4742 22.5347C20.0693 22.6415 19.6133 22.7219 19.1062 22.7752C19.5687 23.1755 19.8001 23.8073 19.8001 24.6704V27.4864C19.8001 27.6464 19.8557 27.7799 19.967 27.8867C20.0783 27.9932 20.2539 28.0246 20.4942 27.9799C22.5587 27.2949 24.2427 26.0603 25.5462 24.2762C26.8496 22.4922 27.5015 20.4837 27.5015 18.25C27.501 16.3908 27.0425 14.6759 26.1264 13.1053Z" />
              </svg>
            </a>
            <!-- Facebook -->
            <a href="https://facebook.com/horchatajs" target="_blank">
              <svg
                class="fill-current text-gray-400 hover:text-black"
                width="36"
                height="36"
                viewBox="0 0 36 36"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.6657 28.0207H14.7608V18.8126H12.8096V15.6399H14.7608V13.735C14.7608 11.1468 15.862 9.60693 18.9926 9.60693H21.5982V12.7809H19.9697C18.751 12.7809 18.6705 13.2243 18.6705 14.0517L18.6651 15.6399H21.6161L21.2708 18.8126H18.6651V28.0207H18.6657Z" />
              </svg>
            </a>
            <!-- Twitter -->
            <a href="https://twitter.com/horchatajs" target="_blank">
              <svg
                class="fill-current text-gray-400 hover:text-black"
                width="36"
                height="36"
                viewBox="0 0 36 36"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M24.4394 13.4866C25.1519 13.037 25.6986 12.324 25.9552 11.4748C25.2881 11.8921 24.5509 12.1939 23.7644 12.3573C23.1368 11.6496 22.2398 11.2083 21.247 11.2083C19.3425 11.2083 17.7991 12.8371 17.7991 14.8459C17.7991 15.131 17.8277 15.4089 17.8869 15.6743C15.0211 15.5224 12.4801 14.0757 10.7778 11.8734C10.4808 12.4125 10.311 13.037 10.311 13.7031C10.311 14.9645 10.9199 16.0782 11.8455 16.7318C11.2801 16.713 10.7482 16.5476 10.2824 16.277V16.3217C10.2824 18.0848 11.4705 19.5554 13.0505 19.8885C12.7603 19.9738 12.4564 20.0165 12.1406 20.0165C11.9186 20.0165 11.7015 19.9946 11.4923 19.952C11.9304 21.3966 13.2044 22.4499 14.7142 22.478C13.533 23.4542 12.0459 24.035 10.4304 24.035C10.1521 24.035 9.87683 24.0194 9.60742 23.985C11.134 25.0165 12.9468 25.6191 14.8948 25.6191C21.2401 25.6191 24.7078 20.0758 24.7078 15.2684C24.7078 15.1102 24.7059 14.9531 24.699 14.798C25.373 14.2849 25.9591 13.6438 26.42 12.9142C25.8012 13.2035 25.1361 13.3992 24.4394 13.4866Z" />
              </svg>
            </a>
            <!-- Instagram -->
            <a href="https://instagram.com/horchatajs" target="_blank">
              <svg
                class="fill-current text-gray-400 hover:text-black"
                width="36"
                height="36"
                viewBox="0 0 36 36"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M21.3085 9.22632H13.6913C11.1045 9.22632 9 11.3309 9 13.9177V21.5349C9 24.1218 11.1045 26.2263 13.6913 26.2263H21.3085C23.8955 26.2263 26 24.1217 26 21.5349V13.9177C26.0001 11.3309 23.8955 9.22632 21.3085 9.22632ZM24.4918 21.5349C24.4918 23.2901 23.0638 24.718 21.3086 24.718H13.6913C11.9362 24.7181 10.5083 23.2901 10.5083 21.5349V13.9177C10.5083 12.1626 11.9362 10.7346 13.6913 10.7346H21.3085C23.0637 10.7346 24.4917 12.1626 24.4917 13.9177V21.5349H24.4918Z" />
                <path d="M17.5001 13.3461C15.0847 13.3461 13.1196 15.3111 13.1196 17.7265C13.1196 20.1419 15.0847 22.1068 17.5001 22.1068C19.9155 22.1068 21.8806 20.1419 21.8806 17.7265C21.8806 15.3111 19.9155 13.3461 17.5001 13.3461ZM17.5001 20.5984C15.9165 20.5984 14.628 19.3101 14.628 17.7264C14.628 16.1427 15.9164 14.8543 17.5001 14.8543C19.0838 14.8543 20.3722 16.1427 20.3722 17.7264C20.3722 19.3101 19.0837 20.5984 17.5001 20.5984Z" />
                <path d="M22.0641 12.0671C21.7735 12.0671 21.488 12.1847 21.2828 12.3909C21.0766 12.596 20.958 12.8816 20.958 13.1732C20.958 13.4639 21.0767 13.7494 21.2828 13.9555C21.4879 14.1606 21.7735 14.2793 22.0641 14.2793C22.3557 14.2793 22.6403 14.1606 22.8464 13.9555C23.0526 13.7494 23.1702 13.4638 23.1702 13.1732C23.1702 12.8816 23.0526 12.596 22.8464 12.3909C22.6413 12.1847 22.3557 12.0671 22.0641 12.0671Z" />
              </svg>
            </a>
          </div>
        </ul>
      </nav>
    </div>
  </div>
</template>

<script>
export default {
  name: 'ResponsiveMenu',
  data() {
    return {
      open: false,
      routes: [
        { title: 'Inicio', path: '/' },
        { title: 'Nosotros', path: '/about' },
        { title: 'Misión y Visión', path: '/identity' },
        { title: 'Equipo', path: '/team' },
        { title: 'Participá', path: '/join' },
        { title: 'Patrocinio', path: '/sponsors' },
        { title: 'Eventos', path: '/events' }
      ]
    }
  },
  methods: {
    navigate(path) {
      this.open = false
      this.$router.push({ path })
    }
  }
}
</script>

<style scoped>
.menu-container {
  transition: all 0.3s;
}

.menu {
  top: 45px;
  left: 325px;
  transition: all 0.3s;
}

.full-menu .menu {
  top: 40px;
  left: 40px;
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 0%;
  opacity: 0;
  visibility: hidden;
  overflow: hidden;
}
.overlay.open {
  opacity: 1;
  visibility: visible;
  height: 100%;
}
.overlay.open {
  animation: fadeInRight 0.5s ease forwards;
}

.overlay.open li {
  animation: fadeInRight 0.5s ease forwards;
  animation-delay: 0.35s;
}
.overlay.open li:nth-of-type(2) {
  animation-delay: 0.4s;
}
.overlay.open li:nth-of-type(3) {
  animation-delay: 0.45s;
}
.overlay.open li:nth-of-type(4) {
  animation-delay: 0.5s;
}
.overlay nav {
  margin-top: 2rem;
  top: 40%;
  transform: translateY(-50%);
  text-align: center;
}

.overlay ul li {
  color: #c8c8c8;
  position: relative;
  opacity: 0;
  transform: scale(1);
  transition: all 0.3s;
}

.overlay ul li:hover,
.overlay ul li:focus,
.overlay ul li:active {
  opacity: 1;
  transform: scale(1.2);
  transition: all 0.3s;
}

@keyframes fadeInRight {
  0% {
    opacity: 0;
    left: 20%;
  }
  100% {
    opacity: 1;
    left: 0;
  }
}
</style>
